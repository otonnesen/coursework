f = @(x) cos(1./x)

f =

    @(x)cos(1./x)

g = @(x) (exp(2.*x))./sqrt(x.^2+1)

g =

    @(x)(exp(2.*x))./sqrt(x.^2+1)

trap(0.5, 2, 20, 10^-5, f);
   	m  	integral approximation
     1     0.3460767940
     2     0.6955684290
     4     0.8096147845
     8     0.8405732779
    16     0.8483519280
    32     0.8502886073
    64     0.8507719513
   128     0.8508927293
   256     0.8509229200
   512     0.8509304675
trap(0, 2, 20, 10^-10, g);
   	m  	integral approximation
     1    25.4170349840
     2    17.9333691661
     4    15.7530628094
     8    15.1827950682
    16    15.0385646992
    32    15.0024015477
    64    14.9933541353
   128    14.9910918677
   256    14.9905262749
   512    14.9903848751
  1024    14.9903495250
  2048    14.9903406875
  4096    14.9903384781
  8192    14.9903379258
 16384    14.9903377877
 32768    14.9903377532
 65536    14.9903377445
 131072    14.9903377424
 262144    14.9903377418
diary off
